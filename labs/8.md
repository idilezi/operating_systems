# Лабораторна робота №8

**Тема:** Збереження службових даних системи та її мережева конфігурація

**Мета роботи:**

1. Отримання практичних навиків роботи з командною оболонкою Bash.
2. Знайомство з базовими структурами для збереження системних даних - процеси, память, лог-файли та повідомлення про стан ядра.
3. Знайомство зі стандартом FHS.
4. Знайомство з діями при налаштуванні мережі.

**Матеріальне забезпечення занять:**

1. ЕОМ типу IBM PC;
2. ОС сімейства Windows та віртуальна машина Virtual Box (Oracle);
3. ОС GNU/Linux (будь-який дистрибутив);
4. Сайт мережевої академії Cisco netacad.com та його онлайн курси по Linux.

**Виконували:**

- Машовець Аліна
- Шурубор Назар

## Завдання для попередньої підготовки

1. \*Прочитайте короткі теоретичні відомості до лабораторної роботи та зробіть невеликий словник базових англійських термінів з питань призначення команд та їх параметрів.

    | Term | Meaning |
    |------|---------|
    | `/boot/` | Directory containing files to boot the computer |
    | `/dev/` | Directory containing files that represent hardware devices and other special files |
    | `/etc/` | Directory containing essential host configurations files |
    | `/proc/` | Virtual filesystem for the kernel to report process and other information |
    | `/sys/` | Virtual filesystem for information about hardware devices connected to the system |
    | `/var/log/` | Directory containing the majority of the log files on the system |
    | `dmesg` | Command used to view the kernel ring buffer, which holds a large number of messages that are generated by the kernel |
    | `free` | Command that provides a snapshot of the memory used at that moment |
    | `ps` | Command used to view processes |
    | syslog | The term that is used generically to describe logging in Linux systems |
    | `top` | Command used to view processes in real time |
    | `/etc/hosts` | File that contains a table of hostnames to IP addresses |
    | `/etc/resolv.conf` | File that contains the IP addresses of the name servers the system should consult in any attempt to resolve names to IP addresses |
    | IPv4 | Traditional IP addressing technique that uses 32-bit addresses |
    | IPv6 | IP addressing technique developed to address shortage of IPv4 address, uses 128-bit address |
    | host | Command that works with DNS to associate a hostname with an IP address |
    | `ifconfig` | Command used to display network configuration information, depreciated and being replaced by the ip addr show command |
    | `ip addr show` | Command used to display and manipulate network configuration information, replacing the depreciated ifconfig command |
    | `ip route show` | Command that displays IP routing table, replacing the depreciated route command |
    | `netstat` | Command used to display information about network connections as well as display the routing table |
    | `ping` | Command used to determine if another machine is reachable by sending a network package to another machine and checking for a response |
    | `route` | Command that displays IP routing table, depreciated and being replaced by the ip route show command |
    | `ss` | Command designed to display socket statistics and supports all major socket types, similar to but more verbose than the netstat command |

2. Вивчіть матеріали онлайн-курсу академії Cisco “NDG Linux Essentials”:
    - Chapter 13 - Where Data is Stored;
    - Chapter 14 - Network Configuration.

3. Пройдіть тестування у курсі NDG Linux Essentials за такими темами:
    - Chapter 13 Exam;
    - Chapter 14 Exam.

4. На базі розглянутого матеріалу дайте відповіді на наступні питання:
    1. Розкрийте поняття "псевдо файлової системи", для чого воно потрібно системі?
    2. Чому користувачі не так часто звертаються на пряму до каталогу `/proc`, яким чином з нього можна отримати інформацію?
    3. \*Яке призначення файлів `/proc/cmdline`, `/proc/meminfo` та `/proc/modules`?
    4. \*Яке призначення команди `free`?
    5. \*Для чого потрібні лог-файли, наведіть приклади їх застосування?
    6. \*\*Яке призначення файлу `/var/log/dmesg`?
    7. \*\*Для чого розроблено FHS?
    8. \*\*Які основні команди є у Linux для перегляду та конфігурації мережі?

5. Підготувати в електронному вигляді початковий варіант звіту:
    - Титульний аркуш, тема та мета роботи
    - Словник термінів
    - Відповіді на п.4.1 та п.4.5 з завдань для попередньої підготовки

## Хід роботи

1. Початкова робота в CLI-режимі в Linux ОС сімейства Linux:
    - Запустіть операційну систему Linux Ubuntu. Виконайте вхід в систему та запустіть термінал (якщо виконуєте ЛР у 401 ауд.);
    - Запустіть віртуальну машину Ubuntu_PC (якщо виконуєте завдання ЛР через академію netacad);
    - Запустіть свою операційну систему сімейства Linux (якщо працюєте на власному ПК та її встановили) та запустіть термінал.

2. Опрацюйте всі приклади команд, що представлені у лабораторних роботах курсу NDG Linux Essentials - Lab 13: Where Data is Stored та Lab 14: Network Configuration. Створіть таблицю для опису цих команд.

    | Назва команди | Її призначення та функціональність                                                       |
    | ------------- | ---------------------------------------------------------------------------------------- |
    | `su`          | Змінюємо поточного користувача на `root`                                                 |
    | `ls /proc`    | Переглядаємо вміст системного каталогу `/proc` (для цього потрібні права доступу `root`) |
    | `cat`         | Displays the contents of a file on the terminal                                          |
    | `ping`        | determines if another machine is reachable by sending a network package to another machine and checking for a response|
    | `echo` | writes character strings to standard output |
    | `pstree` | displays running processes as a tree structure |
    | `ps` | shows the current processes running in the current shell |
    | `ps --forest` | similar to the pstree command, it shows lines indicating the parent and child relationship |
    | `top` | displays real-time system information, including running processes, active users, and resource utilization such as CPU and memory |
    | `free` | allows you to check for memory RAM on your system or to check the memory statics |
    | `file` | determines the type of a file |
    | `dmesg` | prints the message buffer of the kernel |
    | `host` | performs DNS (Domain Name System) lookups |
    | `ifconfig` | is used to configure the kernel-resident network interfaces |
    | `route` | is the interface used to access the Linux kernel's routing tables |
    | `netstat` | is a networking tool used for troubleshooting and configuration, that can also serve as a monitoring tool for connections over the network |
    | `ss` | is a CLI command used to show network statistics |
    | `dig` | performs DNS lookups and displays the answers that are returned from the queried name server |
    | `ssh` | provides a secure encrypted connection between two hosts over an insecure network |
    | `exit` | exits the shell with a status of N |

    > **Примітка:** Скріншоти виконання команд в терміналі можна не представляти, достатньо коротко описати команди в таблиці.

3. Виконайте практичні завдання у терміналі (продемонструйте скріншоти):
    - в даній лабораторній роботі використовувалась команда `cat`, дослідіть її можливості та опишіть для яких задач вона призначена;

        `cat`'s primary usage is outputting the contents of files. It can output one file, two or more files, it also can
        number lines, display non-printing characters and more. It can be used to clear the contents of the file, by
        reading and redirecting `/dev/null` into a file. It can merge several files into one, be used to search the file
        and much more.

    - \*продемонструйте приклади, коли команда `cat` використовується для створення файлу, перегляду вмісту файлу, перенаправлення інформації у інший файл, склеювання декількох файлів в один;

        | Command                     | Function                                                         |
        | --------------------------- | ---------------------------------------------------------------- |
        | `cat file`                  | Outputs contents of file `file` to terminal                      |
        | `cat file1 file2`           | Outputs contents of both `file1` and `file2` concatenated        |
        | `cat file1 file2 > bigfile` | Writes concatenated contents of `file1` and `file2` to `bigfile` |
        | `cat file -n`               | Outputs contents of `file` with numbered lines                   |
        | `cat file1 > file2`         | Writes contents of `file1` to `file2`                            |

    - \*які параметри команди `cat` треба використати, щоб пронумерувати рядки файлу, відобразити недруковані символи, видалити порожні рядки?  

        To output contents of a file with numbered lines the `-n` argument is used, however there is also a `-b` argument
        that numbers only the non-blank lines.
        The `-e` argument displays non-printing symbols (for example, the new line symbol will be replaced with `$`).
        The `-s` argument squeezes empty lines into one, so, for example, if I have two abjecent empty lines, only
        one of them will be outputted.

    - \*\*опишіть можливості команди `dig` та наведіть приклади;

        The `dig` command is often used for testing the functionality of the DNS server, that the host
        machine is using. The command returns lots of information useful for debugging DNS.
        The most important thing in the message is the IP address of the domain, that what queried.
        It's contained in the `ANSWER SECTION`, for `google.com` it is `172.217.16.14`.

        Here's an example output for the `dig` command:

        ```sh
        $ dig google.com

        ; <<>> DiG 9.10.6 <<>> google.com
        ;; global options: +cmd
        ;; Got answer:
        ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 58727
        ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

        ;; OPT PSEUDOSECTION:
        ; EDNS: version: 0, flags:; udp: 1232
        ;; QUESTION SECTION:
        ;google.com.                    IN      A

        ;; ANSWER SECTION:
        google.com.             300     IN      A       172.217.16.14

        ;; Query time: 9 msec
        ;; SERVER: 192.168.1.1#53(192.168.1.1)
        ;; WHEN: Mon May 26 22:25:06 EEST 2025
        ;; MSG SIZE  rcvd: 55
        ```

    - \*\*опишіть можливості команди `netstat` та наведіть приклади.

        The `netstat` command is a powerful tool that provides a large amount of network information.
        It can be used to display information about network connections as well as display the routing
        table similar to the `route` command.

        Most common arguments for `netstat` are:
        - `-i`: shows the state of interfaces which have been auto-configured;
        - `-s`: shows per-protocol statistics;
        - `-m`: shows statistics recorded by the memory management routines;
        - `-r`: shows routing tables.

        For example here's the output of the per-protocol statistics:

        ```bash
        $ netstat -s -I en0
        Name       Mtu   Network       Address            Ipkts Ierrs    Opkts Oerrs  Coll
        en0        1500  <Link#11>   <MAC REDACTED>     3468946     0  1767228     0     0
        en0        1500  macbook-air fe80:b::1499:99b3  3468946     -  1767228     -     -
        en0        1500  192.168.1     mac.router.loca  3468946     -  1767228     -     -
        tcp on en0
                42 incoming packets with bad TCP header format
                0 incoming packet with unspecified IPv6 address
                0 incoming packet with SYN and FIN flags
                3768 incoming packets to closed port
                0 incoming packet for a closed socket
                9 incoming packets with SYN with ACK or RST flags
                0 incoming packet to an IPv6 anycast address
                0 incoming packet to an IPv6 deprecated address
                1 incoming RST packet in SYN_RECEIVED state
                0 incoming packet with bad ACK in connecting states
                0 incoming packet with bad sequence number in SYN_RECEIVED state
                744 incoming packets received after close
        udp on en0
                26749 incoming packets for a closed port
                0 incoming packet destination port 0
                0 incoming packet with a bad length
                0 incoming packet with a bad checksum
                0 incoming multicast packet for a closed port
                0 incoming packet for closed socket
                0 incoming packet not allowed by NECP
        ...
        ```

## Відповіді на контрольні запитання

1. Як пов'язані між собою команди `cat` та `tac`?

    `tac` is literally the reverse of `cat`, so yes, it outputs the contents of the file in the
    reverse order (line-by-line).

2. Що робить команда `ss`?

    `ss` is used to dump socket statistics. It allows showing information similar to `netstat`.
    It can display more TCP and state information than other tools.

3. В чому відмінність між командами `ps --forest` та `pstree`?

    Both `ps --forest` and `pstree` show process hierarchies, butthey differ in style of output
    and detail of data.

4. \*У яких каталогах зберігаються налаштування системи?

    System-wide config files are saved in the `/etc` directory.

5. \*У яких каталогах можна знайти встановлені в системі програми, доступні для користувача?

    They are located in the following folders:
    - `/usr/bin`
    - `/usr/local/bin`
    - `~/.local/bin`

6. \*У яких каталогах можна знайти встановлені системні програми і програми призначені для виконання суперкористувачем?

    They are located in the following folders:
    - `/sbin`
    - `/usr/sbin`
    - `/root`
    - `/usr/local/sbin`

7. \*\*Поясніть призначення команд `ping`, `ifconfig`, `traceroute`.

    `ping` checks connectivity to another host by sending ICMP echo requests. Example:

    ```sh
    $ ping google.com
    ping google.com
    PING google.com (142.250.203.142): 56 data bytes
    64 bytes from 142.250.203.142: icmp_seq=0 ttl=119 time=30.915 ms
    64 bytes from 142.250.203.142: icmp_seq=1 ttl=119 time=34.420 ms
    64 bytes from 142.250.203.142: icmp_seq=2 ttl=119 time=38.887 ms
    ^C
    --- google.com ping statistics ---
    3 packets transmitted, 3 packets received, 0.0% packet loss
    round-trip min/avg/max/stddev = 30.915/34.741/38.887/3.262 ms
    ```

    `ifconfig` shows or configures network interfaces. Example (simulated result):

    ```sh
    $ ifconfig
    eth0: flags=4163<UP,BROADCAST,RUNNING>  mtu 1500
        inet 192.168.1.10  netmask 255.255.255.0
    ```

    `traceroute` shows the path packets take to reach a host. Example (simulated result):

    ```sh
    $ traceroute google.com
    1  192.168.1.1  1.123 ms
    2  10.10.0.1    5.456 ms
    3  172.217.22.14  20.789 ms
    ```

8. \*\*Як називаються мережеві інтерфейси в Linux?

    Traditional names:
    - `eth0`, `eth1` — Ethernet interfaces
    - `wlan0`, `wlan1` — Wi-Fi interfaces
    - `lo` — loopback (local interface, usually `127.0.0.1`)

    Modern names (used in `systemd`-based distros):
    - `enp0s3`, `ens33` — Ethernet (based on hardware location)
    - `wlp2s0`, `wlan0` — Wi-Fi (similar pattern)
    - `lo` — still the loopback interface

9. \*\*Як за допомогою команди `ifconfig` вивести параметри тільки одного мережевого інтерфейсу (наприклад, `eth1`), а не всіх?

    To show information just about on network interface we can provide it directly after writing
    `ifconfig`, like this:

    ```sh
    $ ifconfig en0
    en0: flags=8863<UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST> mtu 1500
        options=6460<TSO4,TSO6,CHANNEL_IO,PARTIAL_CSUM,ZEROINVERT_CSUM>
        ether <REDACTED>
        inet6 <REDACTED>%en0 prefixlen 64 secured scopeid 0xb 
        inet <REDACTED> netmask 0xfffffff0 broadcast <REDACTED>
        nd6 options=201<PERFORMNUD,DAD>
        media: autoselect
        status: active
    ```

    or for `eth1` it would be:

    ```sh
    ifconfig eth1
    ```

## Висновки
